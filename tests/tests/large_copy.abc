
u8[300] prog c = {
    7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 101,
};

u8[300] a = c;
u8[300] b = a;

void main()
{
    $debug_break();
    
    $assert(a[0] == 7);
    $assert(a[299] == 101);
    $assert(b[0] == 7);
    $assert(b[299] == 101);
    
    a[0] = 42;
    a[299] = 200;
    b = a;
    
    $assert(b[0] == 42);
    $assert(b[299] == 200);
    
    b = c;
    
    $assert(b[0] == 7);
    $assert(b[299] == 101);
    
    a[0] = 0;
    a[299] = 0;
    b[0] = 0;
    b[299] = 0;
    
    a = b = c;
    
    $assert(a[0] == 7);
    $assert(a[299] == 101);
    $assert(b[0] == 7);
    $assert(b[299] == 101);
    
    a = {};
    $assert(a[0] == 0);
    $assert(a[299] == 0);
    
    {
        u8[100] d;
        $assert(d[0] == 0);
        d = c[0:100];
        $assert(d[0] == 7);
        d = c[200:300];
        $assert(d[99] == 101);
    }
    
    {
        u8[100] d = c[0:100];
        $assert(d[0] == 7);
    }
    
    $debug_break();
}
