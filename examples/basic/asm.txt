.shades 2
.saved 0
.global coins 2
.global x 2
.global y 2

$PDF_FONT_BR5D:
  .b f 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00
  .b f 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00
  .b f 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00
  .b f 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01
  .b f 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00
  .b f 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00
  .b f 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08
  .b f 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00
  .b f 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00
  .b f 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00
  .b f 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01
  .b f 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00
  .b f 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00
  .b f 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08
  .b f 02 00 00 00 00 00 08 02 01 00 fa 00 00 08 04 04
  .b f 00 fa 01 00 08 06 06 00 fa 05 00 08 06 06 00 fa
  .b f 0b 00 08 04 04 00 fa 11 00 08 05 05 00 fa 15 00
  .b f 08 02 01 00 fa 01 00 08 03 03 00 fa 1a 00 08 03
  .b f 03 00 fa 1d 00 08 04 04 00 fa 20 00 08 04 04 00
  .b f fb 24 00 08 03 03 00 fe 28 00 08 04 04 00 fc 2b
  .b f 00 08 02 01 00 ff 2f 00 08 04 04 00 fa 30 00 08
  .b f 04 04 00 fa 34 00 08 04 04 00 fa 38 00 08 04 04
  .b f 00 fa 3c 00 08 04 04 00 fa 40 00 08 04 04 00 fa
  .b f 44 00 08 04 04 00 fa 48 00 08 04 04 00 fa 4c 00
  .b f 08 04 04 00 fa 50 00 08 04 04 00 fa 54 00 08 04
  .b f 04 00 fa 58 00 08 02 01 00 fc 20 00 08 03 03 00
  .b f fc 5c 00 08 04 04 00 fa 5f 00 08 04 04 00 fb 63
  .b f 00 08 04 04 00 fa 67 00 08 04 04 00 fa 6b 00 08
  .b f 05 05 00 fa 6f 00 08 04 04 00 fa 74 00 08 04 04
  .b f 00 fa 78 00 08 04 04 00 fa 7c 00 08 04 04 00 fa
  .b f 80 00 08 04 04 00 fa 84 00 08 04 04 00 fa 88 00
  .b f 08 04 04 00 fa 8c 00 08 04 04 00 fa 90 00 08 04
  .b f 04 00 fa 94 00 08 03 03 00 fa 98 00 08 04 04 00
  .b f fa 9b 00 08 04 04 00 fa 9f 00 08 06 06 00 fa a3
  .b f 00 08 05 05 00 fa a9 00 08 05 05 00 fa ae 00 08
  .b f 04 04 00 fa b3 00 08 05 05 00 fa b7 00 08 04 04
  .b f 00 fa bc 00 08 04 04 00 fa c0 00 08 04 04 00 fa
  .b f c4 00 08 05 05 00 fa c8 00 08 04 04 00 fa cd 00
  .b f 08 06 06 00 fa d1 00 08 04 04 00 fa d7 00 08 04
  .b f 04 00 fa db 00 08 04 04 00 fa df 00 08 03 03 00
  .b f fa 95 00 08 04 04 00 fa e3 00 08 03 03 00 fa e7
  .b f 00 08 04 04 00 fa ea 00 08 04 04 00 ff ee 00 08
  .b f 03 03 00 fa eb 00 08 04 04 00 fb f2 00 08 04 04
  .b f 00 fa f6 00 08 03 03 00 fb fa 00 08 04 04 00 fa
  .b f fd 00 08 04 04 00 fb 01 01 08 03 03 00 fa 05 01
  .b f 08 04 04 00 fb 08 01 08 04 04 00 fa 0c 01 08 02
  .b f 01 00 fa 10 01 08 03 03 00 fa 11 01 08 04 04 00
  .b f fa 14 01 08 02 01 00 fa 06 00 08 06 06 00 fb 18
  .b f 01 08 04 04 00 fb 1e 01 08 04 04 00 fb 22 01 08
  .b f 04 04 00 fb 26 01 08 04 04 00 fb 2a 01 08 04 04
  .b f 00 fb 2e 01 08 03 03 00 fb 32 01 08 03 03 00 fa
  .b f 35 01 08 04 04 00 fb 38 01 08 04 04 00 fb 3c 01
  .b f 08 06 06 00 fb 40 01 08 04 04 00 fb 46 01 08 04
  .b f 04 00 fb db 00 08 03 03 00 fb 4a 01 08 04 04 00
  .b f fa 4d 01 08 02 01 00 fa 06 00 08 04 04 00 fa 51
  .b f 01 08 05 05 00 fc 55 01 08 01 00 00 00 00 00 08
  .b f 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00
  .b f 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00
  .b f 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00
  .b f 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01
  .b f 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00
  .b f 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00
  .b f 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08
  .b f 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00
  .b f 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00
  .b f 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00
  .b f 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01
  .b f 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00
  .b f 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00
  .b f 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08
  .b f 02 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00
  .b f 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00
  .b f 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00
  .b f 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01
  .b f 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00
  .b f 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00
  .b f 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08
  .b f 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00
  .b f 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00
  .b f 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00
  .b f 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01
  .b f 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00
  .b f 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00
  .b f 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08
  .b f 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00
  .b f 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00
  .b f 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00
  .b f 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01
  .b f 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00
  .b f 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00
  .b f 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08
  .b f 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00
  .b f 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00
  .b f 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00
  .b f 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01
  .b f 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00
  .b f 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00
  .b f 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08
  .b f 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00
  .b f 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00
  .b f 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00
  .b f 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01
  .b f 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00
  .b f 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00
  .b f 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08
  .b f 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00
  .b f 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00
  .b f 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00
  .b f 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08 01
  .b f 00 00 00 00 00 08 01 00 00 00 00 00 08 01 00 00
  .b f 00 00 00 08 01 00 00 00 00 00 08 01 00 00 00 00
  .b f 00 08 01 00 00 00 00 00 08 01 00 00 00 00 00 08
  .b f 07 2e 06 00 06 00 14 3e 14 3e 14 00 04 2a 3e 2a
  .b f 10 00 32 08 26 00 14 2a 12 28 00 1c 22 00 22 1c
  .b f 00 0a 04 0a 00 04 0e 04 00 04 02 00 02 02 02 00
  .b f 01 30 08 06 00 1c 22 1c 00 24 3e 20 00 32 2a 24
  .b f 00 22 2a 14 00 0e 08 3e 00 2e 2a 12 00 1c 2a 10
  .b f 00 02 32 0e 00 14 2a 14 00 04 2a 1c 00 10 0a 00
  .b f 08 14 22 00 0a 0a 0a 00 22 14 08 00 02 2a 04 00
  .b f 1c 22 2a 0c 00 3c 0a 3c 00 3e 2a 14 00 1c 22 22
  .b f 00 3e 22 1c 00 3e 2a 22 00 3e 0a 02 00 1c 22 32
  .b f 00 3e 08 3e 00 22 3e 22 00 22 1e 00 3e 08 36 00
  .b f 3e 20 20 00 3e 04 08 04 3e 00 3e 04 08 3e 00 1c
  .b f 22 22 1c 00 3e 0a 04 00 1c 22 32 3c 00 3e 0a 34
  .b f 00 24 2a 12 00 02 3e 02 00 1e 20 20 1e 00 0e 30
  .b f 0e 00 0e 30 08 30 0e 00 36 08 36 00 06 28 1e 00
  .b f 32 2a 26 00 06 08 30 00 22 3e 00 04 02 04 00 01
  .b f 01 01 00 0c 12 1e 00 3e 24 18 00 0c 12 00 18 24
  .b f 3e 00 0c 1a 14 00 3c 0a 00 04 2a 1e 00 3e 08 30
  .b f 00 3a 40 3a 00 3e 08 34 00 1e 02 1c 02 1c 00 1e
  .b f 02 1c 00 0c 12 0c 00 3e 12 0c 00 0c 12 3e 00 1e
  .b f 04 02 00 16 1a 00 1e 24 00 0e 10 1e 00 0e 10 0e
  .b f 00 0e 10 0c 10 0e 00 12 0c 12 00 1a 16 00 08 36
  .b a 22 00 22 36 08 00 04 02 04 02 00
$PD_0:
  .b f 08 08 01 01 00 3c 3c 42 7e 81 ff 81 ff 81 ff 81
  .b 4 ff 42 7e 3c 3c
$PD_1:
  .b f 4f 29 4d 2a 4b 2a 4a 29 48 54 4f 53 4d ff 4d 4e
  .b f 00 04 4d 26 4b 2a 4a 29 48 2a 46 53 4d 54 4b ff
  .b f 4b 4e 00 04 4b 26 4a 29 48 2a 46 2a 48 7d 4b 7d
  .b f 4f 53 4d ff 4d 4e 4f 7d 4d 7d 4f 54 4d a6 4f 2a
  .b f 4d 2a 4b 29 4a 2a 48 7d 4f 7d 4d ff 4d 4e 4a 2a
  .b f 48 2a 46 7d 4d 7d 4b fa 4a a6 48 fa 4b 54 4a 29
  .b f 48 2a 00 04 48 4f 00 04 48 a3 00 ff 00 4e ff 00
$PD_2:
  .b 5 53 19 58 32 ff 00
$PD_3:
  .b f 48 65 6c 6c 6f 20 57 6f 72 6c 64 21 0a 50 72 65
  .b f 73 73 20 41 20 74 6f 20 63 6f 6c 6c 65 63 74 20
  .b f 61 20 63 6f 69 6e 2e 0a 50 72 65 73 73 20 42 20
  .b f 69 66 20 69 74 27 73 20 67 6f 6e 6e 61 20 62 65
  .b 4 20 79 6f 75 2e
$PD_4:
  .b f 43 6f 69 6e 73 20 63 6f 6c 6c 65 63 74 65 64 3a
  .b 3 20 25 64 30
$PD_5:
  .b f 52 75 6e 6e 69 6e 67 20 66 6f 72 20 25 66 32 20
  .b 6 73 65 63 6f 6e 64 73

$globinit:
  .file <internal>
  .line 13
  push2 60
  setg2 x 0
  .line 14
  push2 28
  setg2 y 0
  .line 16
  p00
  setg2 coins 0
  p0
  p1
  p0
  sys   set_text_font
  ret

loop:
  .file main.abc
  .line 28
;     if($just_pressed(A_BUTTON))
  p8
  sys   just_pressed
  bz    $L_loop_0
  .line 30
;         $tones_play_auto(tones{ B5 100 E6 200 });
  push3 2528
  sys   tones_play_auto
  .line 31
;         ++coins;
  getg2 coins 0
  p1
  add2b
  setg2 coins 0
$L_loop_0:
  .line 34
;     if($just_pressed(B_BUTTON))
  p4
  sys   just_pressed
  bz    $L_loop_1
  .line 35
;         $tones_play_primary(SONG);
  push3 2416
  sys   tones_play_primary
$L_loop_1:
  .line 38
;         "Hello World!\n"
  push4 1157630438
  p00
  .line 37
;     $draw_text(0, 5,
  p5
  p000
  sys   draw_text_P
  .line 41
;     $draw_textf(0, 30, "Coins collected: %d", coins);
  getg2 coins 0
  sext2
  push4 335546923
  p00
  push  30
  p000
  sys   draw_textf
  .line 42
;     $draw_textf(0, 55, "Running for %.2f seconds", float($millis()) / 1000);
  sys   millis
  u2f
  p00
  push2 17530
  fdiv
  push4 385878591
  p00
  push  55
  p000
  sys   draw_textf
  .line 44
;     if($pressed(UP_BUTTON   )) --y;
  p128
  sys   pressed
  bz    $L_loop_2
  getg2 y 0
  p1
  sub2b
  setg2 y 0
$L_loop_2:
  .line 45
;     if($pressed(DOWN_BUTTON )) ++y;
  p16
  sys   pressed
  bz    $L_loop_3
  getg2 y 0
  p1
  add2b
  setg2 y 0
$L_loop_3:
  .line 46
;     if($pressed(LEFT_BUTTON )) --x;
  p32
  sys   pressed
  bz    $L_loop_4
  getg2 x 0
  p1
  sub2b
  setg2 x 0
$L_loop_4:
  .line 47
;     if($pressed(RIGHT_BUTTON)) ++x;
  p64
  sys   pressed
  bz    $L_loop_5
  getg2 x 0
  p1
  add2b
  setg2 x 0
$L_loop_5:
  .line 48
;     $draw_sprite(x, y, BALL, 0);
  p00
  push3 2395
  getg2 y 0
  getg2 x 0
  sys   draw_sprite
  .line 50
;     $display();
  sys   display
  .line 26
; void loop()
  ret

main:
  .file main.abc
  .line 55
;     $set_frame_rate(50);
  push  50
  sys   set_frame_rate
  .line 56
;     $set_text_font(FONT_BR5D);
  p0
  p1
  p0
  sys   set_text_font
$L_main_1:
  .line 58
;         loop();
  call  loop
  call  loop
  call  loop
  call  loop
  call  loop
  call  loop
  call  loop
  call  loop
  .line 57
;     while(true)
  jmp   $L_main_1

