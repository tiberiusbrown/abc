.shades 2
.saved 0
.global e 16
.global enemies 64

$PD_0:
  .b f 03 00 04 00 05 00 00 00 00 00 00 00 00 00 00 00
pe:
  .b f 01 00 02 00 00 00 00 00 00 00 00 00 00 00 00 00

$globinit:
  .file <internal>
  .line 1
  ret

main:
  .file structs.abc
  .line 20
;     $debug_break();
  sys   debug_break
  .line 22
;     $assert(pe.x == 1);
  p1
  sys   assert
  .line 23
;     $assert(pe.y == 2);
  p1
  sys   assert
  .line 25
;         $assert(pe.attrs[i] == 0);
  p1
  sys   assert
  p1
  sys   assert
  p1
  sys   assert
  p1
  sys   assert
  p1
  sys   assert
  p1
  sys   assert
  p1
  sys   assert
  p1
  sys   assert
  p1
  sys   assert
  p1
  sys   assert
  p1
  sys   assert
  p1
  sys   assert
  .line 27
;     $assert(e.x == 0);
  getg2 e 0
  bool2
  not
  sys   assert
  .line 28
;     $assert(e.y == 0);
  getg2 e 2
  bool2
  not
  sys   assert
  .line 30
;         $assert(e.attrs[i] == 0);
  getg  e 4
  not
  sys   assert
  getg  e 5
  not
  sys   assert
  getg  e 6
  not
  sys   assert
  getg  e 7
  not
  sys   assert
  getg  e 8
  not
  sys   assert
  getg  e 9
  not
  sys   assert
  getg  e 10
  not
  sys   assert
  getg  e 11
  not
  sys   assert
  getg  e 12
  not
  sys   assert
  getg  e 13
  not
  sys   assert
  getg  e 14
  not
  sys   assert
  getg  e 15
  not
  sys   assert
  .line 32
;     e.attrs[4] = 42;
  push  42
  setg  e 8
  .line 38
;             $assert(e.attrs[i] == 0);
  getg  e 4
  not
  sys   assert
  getg  e 5
  not
  sys   assert
  getg  e 6
  not
  sys   assert
  getg  e 7
  not
  sys   assert
  .line 36
;             $assert(e.attrs[i] == 42);
  getg  e 8
  push  42
  sub
  not
  sys   assert
  .line 38
;             $assert(e.attrs[i] == 0);
  getg  e 9
  not
  sys   assert
  getg  e 10
  not
  sys   assert
  getg  e 11
  not
  sys   assert
  getg  e 12
  not
  sys   assert
  getg  e 13
  not
  sys   assert
  getg  e 14
  not
  sys   assert
  getg  e 15
  not
  sys   assert
  .line 41
;     enemies[2].x = 42;
  push2 42
  setg2 enemies 32
  .line 42
;     enemies[2].y = 65;
  push2 65
  setg2 enemies 34
  .line 43
;     enemies[2].attrs[3] = 88;
  push  88
  setg  enemies 39
  .line 44
;     for(u8 j = 0; j < 4; ++j)
  p0
$L_main_51:
  .line 48
;             if(j == 2 && i == 3)
  dup
  p2
  sub
  bnz   $L_main_62
  p0
  bz    $L_main_62
  .line 49
;                 $assert(enemies[j].attrs[i] == 88);
  pushg enemies 4
  dup3
  aidxb 16 4
  getr
  push  88
  sub
  not
  sys   assert
  .line 48
;             if(j == 2 && i == 3)
  jmp   $L_main_60
$L_main_62:
  .line 51
;                 $assert(enemies[j].attrs[i] == 0);
  pushg enemies 4
  dup3
  aidxb 16 4
  getr
  not
  sys   assert
$L_main_60:
  .line 48
;             if(j == 2 && i == 3)
  dup
  p2
  sub
  bnz   $L_main_66
  p0
  bz    $L_main_66
  .line 49
;                 $assert(enemies[j].attrs[i] == 88);
  pushg enemies 4
  dup3
  aidxb 16 4
  p1
  add2b
  getr
  push  88
  sub
  not
  sys   assert
  .line 48
;             if(j == 2 && i == 3)
  jmp   $L_main_64
$L_main_66:
  .line 51
;                 $assert(enemies[j].attrs[i] == 0);
  pushg enemies 4
  dup3
  aidxb 16 4
  p1
  add2b
  getr
  not
  sys   assert
$L_main_64:
  .line 48
;             if(j == 2 && i == 3)
  dup
  p2
  sub
  bnz   $L_main_70
  p0
  bz    $L_main_70
  .line 49
;                 $assert(enemies[j].attrs[i] == 88);
  pushg enemies 4
  dup3
  aidxb 16 4
  p2
  add2b
  getr
  push  88
  sub
  not
  sys   assert
  .line 48
;             if(j == 2 && i == 3)
  jmp   $L_main_68
$L_main_70:
  .line 51
;                 $assert(enemies[j].attrs[i] == 0);
  pushg enemies 4
  dup3
  aidxb 16 4
  p2
  add2b
  getr
  not
  sys   assert
$L_main_68:
  .line 48
;             if(j == 2 && i == 3)
  dup
  p2
  sub
  bnz   $L_main_74
  p1
  bz    $L_main_74
  .line 49
;                 $assert(enemies[j].attrs[i] == 88);
  pushg enemies 4
  dup3
  aidxb 16 4
  p3
  add2b
  getr
  push  88
  sub
  not
  sys   assert
  .line 48
;             if(j == 2 && i == 3)
  jmp   $L_main_72
$L_main_74:
  .line 51
;                 $assert(enemies[j].attrs[i] == 0);
  pushg enemies 4
  dup3
  aidxb 16 4
  p3
  add2b
  getr
  not
  sys   assert
$L_main_72:
  .line 48
;             if(j == 2 && i == 3)
  dup
  p2
  sub
  bnz   $L_main_78
  p0
  bz    $L_main_78
  .line 49
;                 $assert(enemies[j].attrs[i] == 88);
  pushg enemies 4
  dup3
  aidxb 16 4
  p4
  add2b
  getr
  push  88
  sub
  not
  sys   assert
  .line 48
;             if(j == 2 && i == 3)
  jmp   $L_main_76
$L_main_78:
  .line 51
;                 $assert(enemies[j].attrs[i] == 0);
  pushg enemies 4
  dup3
  aidxb 16 4
  p4
  add2b
  getr
  not
  sys   assert
$L_main_76:
  .line 48
;             if(j == 2 && i == 3)
  dup
  p2
  sub
  bnz   $L_main_82
  p0
  bz    $L_main_82
  .line 49
;                 $assert(enemies[j].attrs[i] == 88);
  pushg enemies 4
  dup3
  aidxb 16 4
  p5
  add2b
  getr
  push  88
  sub
  not
  sys   assert
  .line 48
;             if(j == 2 && i == 3)
  jmp   $L_main_80
$L_main_82:
  .line 51
;                 $assert(enemies[j].attrs[i] == 0);
  pushg enemies 4
  dup3
  aidxb 16 4
  p5
  add2b
  getr
  not
  sys   assert
$L_main_80:
  .line 48
;             if(j == 2 && i == 3)
  dup
  p2
  sub
  bnz   $L_main_86
  p0
  bz    $L_main_86
  .line 49
;                 $assert(enemies[j].attrs[i] == 88);
  pushg enemies 4
  dup3
  aidxb 16 4
  p6
  add2b
  getr
  push  88
  sub
  not
  sys   assert
  .line 48
;             if(j == 2 && i == 3)
  jmp   $L_main_84
$L_main_86:
  .line 51
;                 $assert(enemies[j].attrs[i] == 0);
  pushg enemies 4
  dup3
  aidxb 16 4
  p6
  add2b
  getr
  not
  sys   assert
$L_main_84:
  .line 48
;             if(j == 2 && i == 3)
  dup
  p2
  sub
  bnz   $L_main_90
  p0
  bz    $L_main_90
  .line 49
;                 $assert(enemies[j].attrs[i] == 88);
  pushg enemies 4
  dup3
  aidxb 16 4
  p7
  add2b
  getr
  push  88
  sub
  not
  sys   assert
  .line 48
;             if(j == 2 && i == 3)
  jmp   $L_main_88
$L_main_90:
  .line 51
;                 $assert(enemies[j].attrs[i] == 0);
  pushg enemies 4
  dup3
  aidxb 16 4
  p7
  add2b
  getr
  not
  sys   assert
$L_main_88:
  .line 48
;             if(j == 2 && i == 3)
  dup
  p2
  sub
  bnz   $L_main_94
  p0
  bz    $L_main_94
  .line 49
;                 $assert(enemies[j].attrs[i] == 88);
  pushg enemies 4
  dup3
  aidxb 16 4
  p8
  add2b
  getr
  push  88
  sub
  not
  sys   assert
  .line 48
;             if(j == 2 && i == 3)
  jmp   $L_main_92
$L_main_94:
  .line 51
;                 $assert(enemies[j].attrs[i] == 0);
  pushg enemies 4
  dup3
  aidxb 16 4
  p8
  add2b
  getr
  not
  sys   assert
$L_main_92:
  .line 48
;             if(j == 2 && i == 3)
  dup
  p2
  sub
  bnz   $L_main_98
  p0
  bz    $L_main_98
  .line 49
;                 $assert(enemies[j].attrs[i] == 88);
  pushg enemies 4
  dup3
  aidxb 16 4
  push  9
  add2b
  getr
  push  88
  sub
  not
  sys   assert
  .line 48
;             if(j == 2 && i == 3)
  jmp   $L_main_96
$L_main_98:
  .line 51
;                 $assert(enemies[j].attrs[i] == 0);
  pushg enemies 4
  dup3
  aidxb 16 4
  push  9
  add2b
  getr
  not
  sys   assert
$L_main_96:
  .line 48
;             if(j == 2 && i == 3)
  dup
  p2
  sub
  bnz   $L_main_102
  p0
  bz    $L_main_102
  .line 49
;                 $assert(enemies[j].attrs[i] == 88);
  pushg enemies 4
  dup3
  aidxb 16 4
  push  10
  add2b
  getr
  push  88
  sub
  not
  sys   assert
  .line 48
;             if(j == 2 && i == 3)
  jmp   $L_main_100
$L_main_102:
  .line 51
;                 $assert(enemies[j].attrs[i] == 0);
  pushg enemies 4
  dup3
  aidxb 16 4
  push  10
  add2b
  getr
  not
  sys   assert
$L_main_100:
  .line 48
;             if(j == 2 && i == 3)
  dup
  p2
  sub
  bnz   $L_main_106
  p0
  bz    $L_main_106
  .line 49
;                 $assert(enemies[j].attrs[i] == 88);
  pushg enemies 4
  dup3
  aidxb 16 4
  push  11
  add2b
  getr
  push  88
  sub
  not
  sys   assert
  .line 48
;             if(j == 2 && i == 3)
  jmp   $L_main_52
$L_main_106:
  .line 51
;                 $assert(enemies[j].attrs[i] == 0);
  pushg enemies 4
  dup3
  aidxb 16 4
  push  11
  add2b
  getr
  not
  sys   assert
$L_main_52:
  .line 44
;     for(u8 j = 0; j < 4; ++j)
  inc
  dup
  p4
  cult
  bnz   $L_main_51
  pop
  .line 54
;     $assert(enemies[2].x == 42);
  getg2 enemies 32
  push  42
  sub2b
  bool2
  not
  sys   assert
  .line 55
;     $assert(enemies[2].y == 65);
  getg2 enemies 34
  push  65
  sub2b
  bool2
  not
  sys   assert
  .line 57
;     f(enemies[2]);
  pushg enemies 32
  .line 15
;     er.y = 2;
  p2
  p0
  dupw3
  p2
  add2b
  setr2
  .line 13
; void f(enemy_t& er)
  pop2
  .line 58
;     $assert(enemies[2].x == 42);
  getg2 enemies 32
  push  42
  sub2b
  bool2
  not
  sys   assert
  .line 59
;     $assert(enemies[2].y == 2);
  getg2 enemies 34
  p2
  sub2b
  bool2
  not
  sys   assert
  .line 61
;     enemies[2] = { 3, 4, { 5, } };
  p0
  p1
  p0
  p16
  p00
  pushg enemies 32
  p16
  p0
  sys   memcpy_P
  .line 62
;     $assert(enemies[2].x == 3);
  getg2 enemies 32
  p3
  sub2b
  bool2
  not
  sys   assert
  .line 63
;     $assert(enemies[2].y == 4);
  getg2 enemies 34
  p4
  sub2b
  bool2
  not
  sys   assert
  .line 64
;     $assert(enemies[2].attrs[0] == 5);
  getg  enemies 36
  p5
  sub
  not
  sys   assert
  .line 66
;         $assert(enemies[2].attrs[i] == 0);
  getg  enemies 37
  not
  sys   assert
  getg  enemies 38
  not
  sys   assert
  getg  enemies 39
  not
  sys   assert
  getg  enemies 40
  not
  sys   assert
  getg  enemies 41
  not
  sys   assert
  getg  enemies 42
  not
  sys   assert
  getg  enemies 43
  not
  sys   assert
  getg  enemies 44
  not
  sys   assert
  getg  enemies 45
  not
  sys   assert
  getg  enemies 46
  not
  sys   assert
  getg  enemies 47
  not
  sys   assert
  .line 68
;     $debug_break();
  sys   debug_break
  .line 18
; void main()
  ret

